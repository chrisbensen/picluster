FROM python:3


ARG SWITCH_USER_ARG
ENV SWITCH_USER=$SWITCH_USER_ARG

ARG SWITCH_PASS_ARG
ENV SWITCH_PASS=$SWITCH_PASS_ARG

ARG SWITCHES_BANK1_TOP_ARG
ENV SWITCHES_BANK1_TOP=$SWITCHES_BANK1_TOP_ARG

ARG SWITCHES_BANK1_BOTTOM_ARG
ENV SWITCHES_BANK1_BOTTOM=$SWITCHES_BANK1_BOTTOM_ARG

ARG SWITCHES_BANK2_TOP_ARG
ENV SWITCHES_BANK2_TOP=$SWITCHES_BANK2_TOP_ARG

ARG SWITCHES_BANK2_BOTTOM_ARG
ENV SWITCHES_BANK2_BOTTOM=$SWITCHES_BANK2_BOTTOM_ARG

ARG SWITCHES_BANK3_TOP_ARG
ENV SWITCHES_BANK3_TOP=$SWITCHES_BANK3_TOP_ARG

ARG SWITCHES_BANK3_BOTTOM_ARG
ENV SWITCHES_BANK3_BOTTOM=$SWITCHES_BANK3_BOTTOM_ARG

ARG SWITCHES_BANK4_TOP_ARG
ENV SWITCHES_BANK4_TOP=$SWITCHES_BANK4_TOP_ARG

ARG SWITCHES_BANK4_BOTTOM_ARG
ENV SWITCHES_BANK4_BOTTOM=$SWITCHES_BANK4_BOTTOM_ARG

ARG SWITCHES_BACK_ARG
ENV SWITCHES_BACK=$SWITCHES_BACK_ARG

ARG SWITCHES_FRONT_ARG
ENV SWITCHES_FRONT=$SWITCHES_FRONT_ARG

ARG SWITCHES_ARG
ENV SWITCHES=$SWITCHES_ARG

ARG SWITCHES_APP_ARG
ENV SWITCHES_APP=$SWITCHES_APP_ARG


RUN pip install fabric2
ADD server.py server.py
ADD switches.py switches.py
EXPOSE 80
ENTRYPOINT ["python3", "-u", "server.py"]
